<ion-header translucent>
  <ion-toolbar>
    <ion-title>Edit goal</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="dismissModal()">
        <ion-icon name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<form [formGroup]="formGroup" (submit)="onSubmit()">
  <ion-item>
    <ion-label>Completed</ion-label>
    <ion-checkbox
      data-testid="toggle-goal-completed"
      formControlName="completed"
    ></ion-checkbox>
  </ion-item>

  <ion-item>
    <ion-label>Name</ion-label>
    <ion-textarea formControlName="name"></ion-textarea>
  </ion-item>

  <ion-item>
    <ion-label>Categories</ion-label>
    <tag-input
      [clearOnBlur]="true"
      formControlName="categories"
      [modelAsStrings]="true"
    >
      <tag-input-dropdown
        [showDropdownIfEmpty]="true"
        [autocompleteItems]="categories$ | async"
      >
      </tag-input-dropdown>
    </tag-input>
  </ion-item>

  <ion-item>
    <ion-label>Date</ion-label>
    <!-- TODO: multi auto complete select here -->
    <ion-datetime
      formControlName="scheduledDate"
      placeholder="Select date"
    ></ion-datetime>
  </ion-item>

  <!-- 
  <ion-item>
    <ion-label>Keep in current date until completed</ion-label>
    <ion-checkbox formControlName="currentDateUntilCompleted"></ion-checkbox>
  </ion-item>

  <hr />

  <ion-item>
    <ion-label>Repeat</ion-label>
    <ion-checkbox formControlName="repeat"></ion-checkbox>
  </ion-item>

  <ng-container>
    <ion-item>
      <ion-label>Repeat frequency (days)</ion-label>
      <ion-input formControlName="repeatFrequency"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>Repeat occurences</ion-label>
      <ion-input formControlName="repeatOccurences"></ion-input>
    </ion-item>
  </ng-container> -->

  <ion-button type="submit" data-testid="submit-goal" expand="full"
    >Submit</ion-button
  >
</form>
